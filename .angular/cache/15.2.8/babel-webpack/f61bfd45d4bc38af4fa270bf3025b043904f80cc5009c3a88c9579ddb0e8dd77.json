{"ast":null,"code":"import { Model } from '../model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/forms\";\nfunction TodoComponent_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵtext(1, \" T\\u00FCm g\\u00F6revler tamamland\\u0131. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TodoComponent_ng_template_16_tr_10_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Yes\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TodoComponent_ng_template_16_tr_10_ng_template_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \" No \");\n  }\n}\nconst _c0 = function (a0, a1) {\n  return {\n    \"bg-primary\": a0,\n    \"bg-warning\": a1\n  };\n};\nfunction TodoComponent_ng_template_16_tr_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtemplate(6, TodoComponent_ng_template_16_tr_10_div_6_Template, 2, 0, \"div\", 16);\n    i0.ɵɵtemplate(7, TodoComponent_ng_template_16_tr_10_ng_template_7_Template, 1, 0, \"ng-template\", null, 17, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\")(10, \"input\", 18);\n    i0.ɵɵlistener(\"change\", function TodoComponent_ng_template_16_tr_10_Template_input_change_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r10);\n      const item_r4 = restoredCtx.$implicit;\n      const ctx_r9 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r9.onActionChanged(item_r4));\n    })(\"ngModelChange\", function TodoComponent_ng_template_16_tr_10_Template_input_ngModelChange_10_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r10);\n      const item_r4 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(item_r4.action = $event);\n    });\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const item_r4 = ctx.$implicit;\n    const i_r5 = ctx.index;\n    const _r7 = i0.ɵɵreference(8);\n    i0.ɵɵclassMap(i0.ɵɵpureFunction2(7, _c0, item_r4.action, !item_r4.action));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i_r5 + 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r4.description);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", item_r4.action)(\"ngIfElse\", _r7);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", item_r4.action);\n  }\n}\nfunction TodoComponent_ng_template_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\", 14)(1, \"thead\")(2, \"tr\");\n    i0.ɵɵelement(3, \"th\");\n    i0.ɵɵelementStart(4, \"th\");\n    i0.ɵɵtext(5, \"Description\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\");\n    i0.ɵɵtext(7, \"Action\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\");\n    i0.ɵɵtext(9, \"Status\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(10, TodoComponent_ng_template_16_tr_10_Template, 11, 10, \"tr\", 15);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.getItems());\n  }\n}\nexport class TodoComponent {\n  constructor() {\n    this.displayAll = false;\n    this.inputText = \"\";\n    this.model = new Model();\n    this.model.items = this.getItemsFromLS();\n  }\n  getName() {\n    return this.model.name;\n  }\n  addItem() {\n    if (this.inputText != \"\") {\n      let data = {\n        description: this.inputText,\n        action: false\n      };\n      this.model.items.push(data);\n      let items = this.getItemsFromLS();\n      items.push(data);\n      localStorage.setItem(\"items\", JSON.stringify(items));\n      this.inputText = \"\";\n    } else {\n      alert(\"bilgi giriniz.\");\n    }\n  }\n  onActionChanged(item) {\n    let items = this.getItemsFromLS();\n    localStorage.clear();\n    items.forEach(i => {\n      if (i.description == item.description) {\n        i.action = item.action;\n      }\n    });\n    localStorage.setItem(\"items\", JSON.stringify(items));\n  }\n  getItemsFromLS() {\n    let items = [];\n    let value = localStorage.getItem(\"items\");\n    if (value != null) {\n      items = JSON.parse(value);\n    }\n    return items;\n  }\n  getItems() {\n    if (this.displayAll) {\n      return this.model.items;\n    }\n    return this.model.items.filter(item => !item.action);\n  }\n  displayCount() {\n    return this.model.items.filter(i => i.action).length;\n  }\n  getBtnClasses() {\n    return {\n      'disabled': this.inputText.length == 0,\n      'btn-secondary': this.inputText.length == 0,\n      'btn-danger': this.inputText.length > 0\n    };\n  }\n}\nTodoComponent.ɵfac = function TodoComponent_Factory(t) {\n  return new (t || TodoComponent)();\n};\nTodoComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: TodoComponent,\n  selectors: [[\"app-todo\"]],\n  decls: 18,\n  vars: 8,\n  consts: [[1, \"container\"], [1, \"dov\", \"row\"], [1, \"col-5\", \"mx-auto\"], [1, \"bg-primary\", \"text-white\", \"p-3\"], [1, \"input-group\", \"mb-2\"], [\"type\", \"text\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\", \"keyup.enter\"], [1, \"btn\", 3, \"click\"], [1, \"form-check\", \"mb3\"], [\"type\", \"checkbox\", \"id\", \"displayAll\", 1, \"form-check-input\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"displayAll\", 1, \"form-check-label\"], [\"class\", \"alert alert-warning\", 4, \"ngIf\", \"ngIfElse\"], [1, \"my-2\"], [\"itemsTable\", \"\"], [1, \"alert\", \"alert-warning\"], [1, \"table\", \"table-bordered\"], [3, \"class\", 4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\", \"ngIfElse\"], [\"noTemplate\", \"\"], [\"type\", \"checkbox\", \"name\", \"\", \"id\", \"\", 3, \"ngModel\", \"change\", \"ngModelChange\"]],\n  template: function TodoComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h3\", 3);\n      i0.ɵɵtext(4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"div\", 4)(6, \"input\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function TodoComponent_Template_input_ngModelChange_6_listener($event) {\n        return ctx.inputText = $event;\n      })(\"keyup.enter\", function TodoComponent_Template_input_keyup_enter_6_listener() {\n        return ctx.addItem();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"button\", 6);\n      i0.ɵɵlistener(\"click\", function TodoComponent_Template_button_click_7_listener() {\n        return ctx.addItem();\n      });\n      i0.ɵɵtext(8, \" Add \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(9, \"div\", 7)(10, \"input\", 8);\n      i0.ɵɵlistener(\"ngModelChange\", function TodoComponent_Template_input_ngModelChange_10_listener($event) {\n        return ctx.displayAll = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"label\", 9);\n      i0.ɵɵtext(12, \"Hepsini G\\u00F6ster\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(13, TodoComponent_div_13_Template, 2, 0, \"div\", 10);\n      i0.ɵɵelementStart(14, \"div\", 11);\n      i0.ɵɵtext(15);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(16, TodoComponent_ng_template_16_Template, 11, 1, \"ng-template\", null, 12, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(17);\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate1(\" \", ctx.getName(), \" kullan\\u0131c\\u0131s\\u0131n\\u0131n listesi \");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.inputText);\n      i0.ɵɵadvance(1);\n      i0.ɵɵclassMap(ctx.getBtnClasses());\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.displayAll);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.getItems().length == 0)(\"ngIfElse\", _r1);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\"\", ctx.displayCount(), \" g\\u00F6rev tamamland\\u0131.\");\n    }\n  },\n  dependencies: [i1.NgForOf, i1.NgIf, i2.DefaultValueAccessor, i2.CheckboxControlValueAccessor, i2.NgControlStatus, i2.NgModel],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["Model","i0","TodoComponent","constructor","model","items","getItemsFromLS","getName","name","addItem","inputText","data","description","action","push","localStorage","setItem","JSON","stringify","alert","onActionChanged","item","clear","forEach","i","value","getItem","parse","getItems","displayAll","filter","displayCount","length","getBtnClasses","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\okucu\\source\\repos\\MyProjects\\Eğitim\\SadikTuran\\todoapp\\src\\app\\todo\\todo.component.ts","C:\\Users\\okucu\\source\\repos\\MyProjects\\Eğitim\\SadikTuran\\todoapp\\src\\app\\todo\\todo.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { TodoItem } from \"../todoitem\";\nimport { Model } from '../model';\n\n@Component({\n  selector: 'app-todo',\n  templateUrl: './todo.component.html',\n  styleUrls: ['./todo.component.css']\n})\nexport class TodoComponent {\n\n  displayAll: boolean = false;\n  inputText: string=\"\";\n\n  constructor() { \n    this.model.items = this.getItemsFromLS();\n  }\n\n  model = new Model();\n\n  getName() {\n    return this.model.name;\n  }\n\n  addItem() {\n    if (this.inputText != \"\") { \n      let data ={ description: this.inputText, action: false }\n      this.model.items.push(data) \n      let items = this.getItemsFromLS();\n      items.push(data)\n      localStorage.setItem(\"items\",JSON.stringify(items));\n      this.inputText= \"\";\n    }\n    else {\n      alert(\"bilgi giriniz.\")\n      \n    }\n  }\n\n  onActionChanged(item:TodoItem){\n    let items = this.getItemsFromLS();\n\n    localStorage.clear();\n\n    items.forEach(i => {\n      if(i.description == item.description){\n        i.action = item.action;\n      }\n    });\n\n    localStorage.setItem(\"items\",JSON.stringify(items));\n  }\n\n  getItemsFromLS(){\n    let items: TodoItem[]=[];\n\n    let value = localStorage.getItem(\"items\");\n\n    if(value!=null){\n      items=JSON.parse(value);\n    }\n\n    return items;\n  }\n  \n  getItems() {\n    if (this.displayAll) {\n      return this.model.items;\n    }\n    return this.model.items.filter(item => !item.action)\n  }\n\n  displayCount(){\n    return this.model.items.filter(i=>i.action).length;\n  }\n\n  getBtnClasses(){\n   return {\n      'disabled': this.inputText.length == 0,\n      'btn-secondary': this.inputText.length == 0,\n      'btn-danger': this.inputText.length>0\n\n    }\n  }\n\n}\n","<div class=\"container\">\n  <div class=\"dov row\">\n    <div class=\"col-5 mx-auto\">\n      <h3 class=\"bg-primary text-white p-3\">\n        {{ getName() }} kullanıcısının listesi\n      </h3>\n\n      <div class=\"input-group mb-2\">\n        <input\n          type=\"text\"\n          [(ngModel)]=\"inputText\"\n          class=\"form-control\"\n          (keyup.enter)=\"addItem()\"\n        />\n\n        <button\n          class=\"btn\"\n          (click)=\"addItem()\"\n          [class]=\"getBtnClasses()\"\n        >\n          Add\n        </button>\n      </div>\n      <div class=\"form-check mb3\">\n        <input\n          type=\"checkbox\"\n          [(ngModel)]=\"displayAll\"\n          class=\"form-check-input\"\n          id=\"displayAll\"\n        />\n        <label for=\"displayAll\" class=\"form-check-label\">Hepsini Göster</label>\n      </div>\n\n      <div\n        class=\"alert alert-warning\"\n        *ngIf=\"getItems().length == 0; else itemsTable\"\n      >\n        Tüm görevler tamamlandı.\n      </div>\n\n      <div class=\"my-2\">{{ displayCount() }} görev tamamlandı.</div>\n\n      <ng-template #itemsTable>\n        <table class=\"table table-bordered\">\n          <thead>\n            <tr>\n              <th></th>\n              <th>Description</th>\n              <th>Action</th>\n              <th>Status</th>\n            </tr>\n          </thead>\n          <tr\n            *ngFor=\"let item of getItems(); let i = index\"\n            [class]=\"{ 'bg-primary': item.action, 'bg-warning': !item.action }\"\n          >\n            <td>{{ i + 1 }}</td>\n            <td>{{ item.description }}</td>\n            <td>\n              <!-- {{ item.action }} -->\n              <!-- <div [ngSwitch]=\"item.action\">\n              <div *ngSwitchCase=\"true\">Yes</div>\n              <div *ngSwitchDefault>No</div>\n            </div> -->\n\n              <div *ngIf=\"item.action; else noTemplate\">Yes</div>\n\n              <ng-template #noTemplate> No </ng-template>\n            </td>\n            <td>\n              <input type=\"checkbox\" (change)=\"onActionChanged(item)\" [(ngModel)]=\"item.action\" name=\"\" id=\"\" />\n            </td>\n          </tr>\n        </table>\n      </ng-template>\n    </div>\n  </div>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}